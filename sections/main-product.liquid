{%- liquid
  assign current_variant = product.selected_or_first_available_variant
  assign featured_image = current_variant.featured_image | default: product.featured_image
%}

<div data-section-id="{{ section.id }}" data-section-type="product" itemscope itemtype="http://schema.org/Product">
  <meta itemprop="name" content="{{ product.title | escape }}">
  <meta itemprop="url" content="{{ shop.url }}{{ current_variant.url }}">
  <meta itemprop="brand" content="{{ product.vendor }}">
  <meta itemprop="image" content="{{ featured_image | image_url: width: 600, height: 600 }}">
  <meta itemprop="description" content="{{ product.description | strip_html | escape }}">

  <div class="product-detail">
    <div class="product-detail__main">
      <div class="pdf-gallery-wrapper">
        {% render 'product-detail-gallery', product: product %}
      </div>

      <div class="pdf-form-wrapper">
        {% render 'product-detail-form',
                  product: product,
                  current_variant: current_variant
        %}
      </div>
    </div>
  </div>

  {% render 'product-json-ld' %}
</div>

{% schema %}
{
  "name": "Product - Main",
  "settings": [
    {
      "type": "header",
      "content": "Messaging"
    },
    {
      "type": "inline_richtext",
      "id": "help_message",
      "label": "Help Message",
      "info": "e.g. 'Want a more personalized shopping experience?...'"
    },
    {
      "type": "header",
      "content": "Blue Light Lens Upgrade",
      "info": "See 'Theme Settings -> Product'"
    },
    {
      "type": "inline_richtext",
      "id": "blue_lens_help_message",
      "label": "Help Message",
      "info": "e.g. Please allow 5-7 business days..."
    },
    {
      "type": "header",
      "content": "Monogram Case",
      "info": "See 'Theme Settings -> Product'"
    },
    {
      "type": "header",
      "content": "Size Guide"
    },
    {
      "type": "checkbox",
      "id": "size_guide_enabled",
      "label": "Enabled",
      "default": false
    },
    {
      "type": "text",
      "id": "size_guide_title",
      "label": "Title",
      "info": "e.g. 'Size Guide'"
    },
    {
      "type": "image_picker",
      "id": "size_guide_image",
      "label": "Image"
    },
    {
      "type": "image_picker",
      "id": "size_guide_image_mobile",
      "label": "Image - Mobile",
      "info": "Optional - If left blank, above image will be used"
    }
  ]
}
{% endschema %}
